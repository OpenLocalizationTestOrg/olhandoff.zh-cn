{
  "nodes": [
    {
      "content": "Analyzing a Driver Using Code Analysis and Verification Tools",
      "pos": [
        1,
        62
      ]
    },
    {
      "content": "Code analysis and verification tools can help improve the stability and reliability of your driver by systematically analyzing the source code.",
      "pos": [
        207,
        350
      ]
    },
    {
      "content": "The code analysis and verification tools can detect errors that are missed by the compiler and by conventional runtime testing.",
      "pos": [
        351,
        478
      ]
    },
    {
      "content": "Additionally they can determine whether the driver correctly interacts with the Windows operating system kernel.",
      "pos": [
        479,
        591
      ]
    },
    {
      "content": "Using Microsoft Visual Studio Ultimate 2012 and the Windows Driver Kit (WDK), you can configure the code analysis and verification tools to run as part of the build process, or you can schedule the tools to analyze your driver at a predetermined time.",
      "pos": [
        592,
        843
      ]
    },
    {
      "pos": [
        845,
        1078
      ],
      "content": "<ph id=\"ph1\">&lt;span id=\"C_C___Code_Analysis_Tool_for_Windows_Drivers\"&gt;</ph><ph id=\"ph2\">&lt;/span&gt;</ph><ph id=\"ph3\">&lt;span id=\"c_c___code_analysis_tool_for_windows_drivers\"&gt;</ph><ph id=\"ph4\">&lt;/span&gt;</ph><ph id=\"ph5\">&lt;span id=\"C_C___CODE_ANALYSIS_TOOL_FOR_WINDOWS_DRIVERS\"&gt;</ph><ph id=\"ph6\">&lt;/span&gt;</ph>C/C++ Code Analysis Tool for Windows Drivers"
    },
    {
      "content": "The Windows 8 release of the WDK provides enhancements to the C/C++ Code Analysis tool included with Visual Studio.",
      "pos": [
        1314,
        1429
      ]
    },
    {
      "content": "Specifically, the WDK provides a specialized driver module that is designed to detect errors in kernel-mode driver code.",
      "pos": [
        1430,
        1550
      ]
    },
    {
      "content": "This driver module is integrated into the C/C++ Code Analysis tool.",
      "pos": [
        1551,
        1618
      ]
    },
    {
      "pos": [
        1620,
        1766
      ],
      "content": "<bpt id=\"p1\">**</bpt>When to use:<ept id=\"p1\">**</ept> You can run the C/C++ Code Analysis tool for drivers very early in the development cycle, as soon as the code compiles correctly."
    },
    {
      "content": "For information about the Code Analysis tool in Visual Studio, see:",
      "pos": [
        1768,
        1835
      ]
    },
    {
      "content": "Analyzing Application Quality using Code Analysis",
      "pos": [
        1842,
        1891
      ]
    },
    {
      "content": "Code Analysis for Drivers",
      "pos": [
        1947,
        1972
      ]
    },
    {
      "content": "How to run Code Analysis for drivers",
      "pos": [
        2047,
        2083
      ]
    },
    {
      "content": "Using SAL Annotations to Reduce C/C++ Code Defects",
      "pos": [
        2158,
        2208
      ]
    },
    {
      "content": "SAL 2.0 Annotations for Windows Drivers",
      "pos": [
        2264,
        2303
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  In previous versions of the WDK, the driver-specific module for code analysis was part of a standalone tool called PREfast for Drivers (PFD).",
      "pos": [
        2374,
        2525
      ]
    },
    {
      "content": "PREfast for Drivers was also integrated into the WDK Build environment, as part of Microsoft Automated Code Review (OACR).",
      "pos": [
        2526,
        2648
      ]
    },
    {
      "pos": [
        2653,
        2798
      ],
      "content": "<ph id=\"ph1\">&lt;span id=\"Static_Driver_Verifier\"&gt;</ph><ph id=\"ph2\">&lt;/span&gt;</ph><ph id=\"ph3\">&lt;span id=\"static_driver_verifier\"&gt;</ph><ph id=\"ph4\">&lt;/span&gt;</ph><ph id=\"ph5\">&lt;span id=\"STATIC_DRIVER_VERIFIER\"&gt;</ph><ph id=\"ph6\">&lt;/span&gt;</ph>Static Driver Verifier"
    },
    {
      "content": "Static Driver Verifier (SDV) is a static verification tool that systematically analyzes the source code of Windows kernel-mode drivers.",
      "pos": [
        2946,
        3081
      ]
    },
    {
      "content": "SDV determines whether the driver correctly interacts with the Windows operating system kernel.",
      "pos": [
        3082,
        3177
      ]
    },
    {
      "content": "SDV can be launched from the <bpt id=\"p1\">**</bpt>Driver<ept id=\"p1\">**</ept> menu in Visual Studio or from the <bpt id=\"p2\">**</bpt>Visual Studio Command Prompt<ept id=\"p2\">**</ept> window.",
      "pos": [
        3178,
        3292
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>When to use:<ept id=\"p1\">**</ept> Run Static Driver Verifier early in the development cycle on drivers that compile correctly.",
      "pos": [
        3294,
        3403
      ]
    },
    {
      "content": "Run Static Driver Verifier before you begin the test cycle.",
      "pos": [
        3404,
        3463
      ]
    },
    {
      "content": "For information about Static Driver Verifier, see:",
      "pos": [
        3465,
        3515
      ]
    },
    {
      "pos": [
        3521,
        3623
      ],
      "content": "Overview: <bpt id=\"p1\">[</bpt>Static Driver Verifier<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff552808)</ept>"
    },
    {
      "pos": [
        3628,
        3761
      ],
      "content": "How to: <bpt id=\"p1\">[</bpt>Using Static Driver Verifier to find defects in drivers<ept id=\"p1\">](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454281)</ept>"
    },
    {
      "pos": [
        3763,
        3906
      ],
      "content": "<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>  In previous versions of the WDK, Static Driver Verifier was a stand-alone tool that you launched from a WDK Build Environment window."
    },
    {
      "pos": [
        3917,
        4903
      ],
      "content": "<bpt id=\"p1\">[</bpt>Send comments about this topic to Microsoft<ept id=\"p1\">]</ept><bpt id=\"p2\">(mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Analyzing%20a%20Driver%20Using%20Code%20Analysis%20and%20Verification%20Tools%20%20RELEASE:%20%289/30/2015%29&amp;body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"</bpt>Send comments about this topic to Microsoft<ept id=\"p2\">\")</ept>"
    }
  ],
  "content": "\nAnalyzing a Driver Using Code Analysis and Verification Tools\n==============================================================================================================================================\n\nCode analysis and verification tools can help improve the stability and reliability of your driver by systematically analyzing the source code. The code analysis and verification tools can detect errors that are missed by the compiler and by conventional runtime testing. Additionally they can determine whether the driver correctly interacts with the Windows operating system kernel. Using Microsoft Visual Studio Ultimate 2012 and the Windows Driver Kit (WDK), you can configure the code analysis and verification tools to run as part of the build process, or you can schedule the tools to analyze your driver at a predetermined time.\n\n<span id=\"C_C___Code_Analysis_Tool_for_Windows_Drivers\"></span><span id=\"c_c___code_analysis_tool_for_windows_drivers\"></span><span id=\"C_C___CODE_ANALYSIS_TOOL_FOR_WINDOWS_DRIVERS\"></span>C/C++ Code Analysis Tool for Windows Drivers\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nThe Windows 8 release of the WDK provides enhancements to the C/C++ Code Analysis tool included with Visual Studio. Specifically, the WDK provides a specialized driver module that is designed to detect errors in kernel-mode driver code. This driver module is integrated into the C/C++ Code Analysis tool.\n\n**When to use:** You can run the C/C++ Code Analysis tool for drivers very early in the development cycle, as soon as the code compiles correctly.\n\nFor information about the Code Analysis tool in Visual Studio, see:\n\n-   [Analyzing Application Quality using Code Analysis](http://go.microsoft.com/fwlink/p/?linkid=226836)\n-   [Code Analysis for Drivers](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454182)\n-   [How to run Code Analysis for drivers](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454219)\n-   [Using SAL Annotations to Reduce C/C++ Code Defects](http://go.microsoft.com/fwlink/p/?linkid=247283)\n-   [SAL 2.0 Annotations for Windows Drivers](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454237)\n\n**Note**  In previous versions of the WDK, the driver-specific module for code analysis was part of a standalone tool called PREfast for Drivers (PFD). PREfast for Drivers was also integrated into the WDK Build environment, as part of Microsoft Automated Code Review (OACR).\n\n \n\n<span id=\"Static_Driver_Verifier\"></span><span id=\"static_driver_verifier\"></span><span id=\"STATIC_DRIVER_VERIFIER\"></span>Static Driver Verifier\n-------------------------------------------------------------------------------------------------------------------------------------------------\n\nStatic Driver Verifier (SDV) is a static verification tool that systematically analyzes the source code of Windows kernel-mode drivers. SDV determines whether the driver correctly interacts with the Windows operating system kernel. SDV can be launched from the **Driver** menu in Visual Studio or from the **Visual Studio Command Prompt** window.\n\n**When to use:** Run Static Driver Verifier early in the development cycle on drivers that compile correctly. Run Static Driver Verifier before you begin the test cycle.\n\nFor information about Static Driver Verifier, see:\n\n-   Overview: [Static Driver Verifier](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Ff552808)\n-   How to: [Using Static Driver Verifier to find defects in drivers](https://msdn.microsoft.com/en-us/Library/Windows/Hardware/Hh454281)\n\n**Note**  In previous versions of the WDK, Static Driver Verifier was a stand-alone tool that you launched from a WDK Build Environment window.\n\n \n\n \n\n \n\n[Send comments about this topic to Microsoft](mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback%20[VsDriver\\vsdriver]:%20Analyzing%20a%20Driver%20Using%20Code%20Analysis%20and%20Verification%20Tools%20%20RELEASE:%20%289/30/2015%29&body=%0A%0APRIVACY%20STATEMENT%0A%0AWe%20use%20your%20feedback%20to%20improve%20the%20documentation.%20We%20don't%20use%20your%20email%20address%20for%20any%20other%20purpose,%20and%20we'll%20remove%20your%20email%20address%20from%20our%20system%20after%20the%20issue%20that%20you're%20reporting%20is%20fixed.%20While%20we're%20working%20to%20fix%20this%20issue,%20we%20might%20send%20you%20an%20email%20message%20to%20ask%20for%20more%20info.%20Later,%20we%20might%20also%20send%20you%20an%20email%20message%20to%20let%20you%20know%20that%20we've%20addressed%20your%20feedback.%0A%0AFor%20more%20info%20about%20Microsoft's%20privacy%20policy,%20see%20http://privacy.microsoft.com/en-us/default. \"Send comments about this topic to Microsoft\")\n\n\n"
}